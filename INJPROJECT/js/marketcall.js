(function(e,t){if(e.Marketcall){return}e.Marketcall={Program:{state:0},Widgets:{},Tracker:{trackEvent:function(e,t,a){console.log("Tracking event "+t+" "+a);var n=Marketcall.Helpers.getClientInfo();var r={program:e,visitor:n,event:{source:t,action:a}};Marketcall.Helpers.jQuery.ajax({jsonp:"callback",dataType:"jsonp",url:Marketcall.Helpers.makeUrl("/api/v1/tracker/events"),data:r,error:function(e,t,a){console.log("Event tracker responded with error.");console.log(e.responseText)},success:function(e,t,a){if(e.status==202){console.log("Event tracked successfully.")}}})}},Helpers:{currentScript:"",injectTrackers:function(e){if(typeof e!=="object"||e.length<1){return}var t=Marketcall.Helpers.jQuery(Marketcall.Helpers.getScriptElement());var a=Marketcall.Helpers.jQuery("body");for(var n=0;n<e.length;n++){if(e[n].code_before_body){if(e[n].code_before_body.indexOf("<script")==-1){e[n].code_before_body="<script>"+e[n].code_before_body+"<\/script>"}a.prepend(e[n].code_before_body)}if(e[n].code){if(e[n].code.indexOf("<script")==-1){e[n].code="<script>"+e[n].code+"<\/script>"}t.after(e[n].code)}}},loadFile:function(e,t,a){var n;if("js"===e){n=document.createElement("script");n.type="text/javascript";n.src=t}else if("css"===e){n=document.createElement("link");n.type="text/css";n.href=t;n.rel="stylesheet"}if(a){if(n.readyState){n.onreadystatechange=function(){if("loaded"===n.readyState||"complete"===n.readyState){n.onreadystatechange=null;a()}}}else{n.onload=function(){a()}}}(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(n)},isMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},getClientId:function(){return r.id},updateClientId:function(e){r.id=e;Marketcall.Storage.set("client_id",e,"local",30*24*60);Marketcall.Helpers.setCookie("_mccid",e,{domain:"."+document.domain.replace(/^www\./,""),expires:new Date((new Date).getTime()+30*24*60*60*1e3)})},getParams:function(e){var t=Marketcall.Helpers.getScriptElement(e);if(t){var a=t.src.split("?").pop().split("&");var n={};for(var r=0;r<a.length;r++){var i=a[r].split("=");n[i[0]]=i[1]}return n}return{}},getScriptElement:function(e){if(e===undefined){e=Marketcall.Helpers.currentScript}var t=document.getElementsByTagName("script");for(var a=0;a<t.length;a++){if(t[a].src.indexOf("/"+e)>-1){return t[a]}}return false},getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):undefined},setCookie:function(e,t,a){a=a||{};var n=a.expires;var r=a.domain;if(r&&Marketcall.Helpers.isIe()&&/[а-яА-ЯЁё]/.test(r)){delete a.domain}if(typeof n=="number"&&n){var i=new Date;i.setTime(i.getTime()+n*1e3);n=a.expires=i}if(n&&n.toUTCString){a.expires=n.toUTCString()}t=encodeURIComponent(t);var l=e+"="+t;for(var o in a){l+="; "+o;var c=a[o];if(c!==true){l+="="+c}}document.cookie=l},loadWidget:function(e,t){if(Marketcall.Widgets[e]===undefined){console.error("Unknown widget "+e);return}try{Marketcall.Widgets[e].init(t,Marketcall.Helpers.jQuery)}catch(t){console.error("Error "+e+" widget initialisation");console.log(t)}},urlParam:function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);if(t==null){return null}else{return t[1]||0}},urlParams:function(e){if(e===undefined){e=window.location.search}e=e.substr(e.indexOf("?")+1).split("&");var t={};for(var a=0;a<e.length;++a){var n=e[a].split("=");t[n[0]]=n.length===2?decodeURIComponent(n[1].replace(/\+/g," ")):""}return t},getClientInfo:function(){return r},getStatParams:function(){var e=Marketcall.Storage.get("stat_params","local");var t=Marketcall.Helpers.urlParams();if(!t.program_id&&typeof e==="object"){return e}try{var a={};var n=["utm_source","utm_medium","utm_term","utm_content","utm_campaign","subid","subid1","subid2","subid3","subid4"];for(var r in t){var i=r.toLowerCase();if(n.indexOf(i)!==-1){a[i]=t[r]}}Marketcall.Storage.set("stat_params",a,"local",30*24*60);return a}catch(e){console.log(e);return{}}},getEntrancePage:function(){var t=Marketcall.Storage.get("entrance_page","session")||e.location.href;try{Marketcall.Storage.set("entrance_page",t,"session")}catch(e){console.log(e)}return t},getHttpReferrer:function(){var t=Marketcall.Storage.get("http_referrer","session")||e.document.referrer;try{Marketcall.Storage.set("http_referrer",t,"session")}catch(e){console.log(e)}return t},getCookieDomain:function(t,a){if(t===undefined){t=e.document.domain}if(a){t=t.split(".").reverse().splice(0,2).reverse().join(".")}return t!=="localhost"?"."+t.replace(/^www\./,"").replace(/^m\./,""):t},makeUrl:function(e){var t="https://www.marketcall.ru";return t+e},isIe:function(){var e=window.navigator.userAgent;var t=e.indexOf("MSIE ");var a=!!e.match(/Edge\/\d+/);if(t>0||a||!!navigator.userAgent.match(/Trident.*rv\:11\./)){return true}return false},source:function(){return this.currentScript==="marketcall.js"?"merchant":"affiliate"}},Storage:function(e){return{prefix:"mcstore",storage:{local:e.localStorage,session:e.sessionStorage},isAvailable:function(){try{return t&&t.parse&&t.stringify&&e.sessionStorage}catch(e){console.log("Storage not available");return false}},get:function(e,a){if(!this.isAvailable()){return false}var n="session"===a?"session":"local";try{var r=t.parse(this.storage[n][this.prefix+"."+e]);if(r&&r._expired){return(new Date).getTime()>r._expired?false:r.data}return r}catch(e){return false}},set:function(e,a,n,r){if(!this.isAvailable()){return false}var i="session"===n?"session":"local";if(typeof r==="number"){a={data:a,_expired:(new Date).getTime()+r*60}}try{this.storage[i][this.prefix+"."+e]=t.stringify(a)}catch(e){return false}}}}(e)};var a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,a=e=="x"?t:t&3|8;return a.toString(16)})};var n=Marketcall.Helpers.getCookie("_mc_visitor_id")||Marketcall.Helpers.urlParam("mc_session_uuid")||a();Marketcall.Helpers.setCookie("_mc_visitor_id",n,{domain:Marketcall.Helpers.getCookieDomain(),expires:new Date((new Date).getTime()+30*24*60*60*1e3)});var r={id:Marketcall.Storage.get("client_id","local")||Marketcall.Helpers.getCookie("_mccid"),visitor_id:n,url:e.location.href,user_agent:navigator.userAgent,stat_params:Marketcall.Helpers.getStatParams(),entrance_page:Marketcall.Helpers.getEntrancePage(),http_referrer:Marketcall.Helpers.getHttpReferrer()}})(window,window.JSON);(function(){window.Marketcall||(window.Marketcall={Widgets:{}});var widget=function(params,jQuery){var selectors=params.selector?params.selector.split("|"):params.selector;var phone=params.phone;var hrefPhone=params.phoneToHref;var phoneUnformatted=phone;var mask=params.mask;var replacer=params.replacer;var code=params.code;var init=function(){if(phone&&mask&&selectors){runUserCode(code);phone=unmaskPhone(phone,mask);console.log(phone);if(window.ComagicWidget!==undefined&&window.ComagicWidget.widget!==undefined){window.ComagicWidget.widget.calltracking.MutationObserver.stop()}updatePhoneElems(selectors,phone,hrefPhone,replacer);jQuery.each(selectors,function(e,t){var a=function(){jQuery(t).off("DOMSubtreeModified");updatePhoneElems([t],phone,hrefPhone);if(Marketcall.Helpers.isIe()){window.setTimeout(function(){jQuery(t).on("DOMSubtreeModified",a)},0)}else{jQuery(t).on("DOMSubtreeModified",a)}};jQuery(t).on("DOMSubtreeModified",a)})}else{console.log("Response contains no params or is not full");console.log(params)}};var runUserCode=function(code){if(code){try{eval(code)}catch(e){console.log("Error when running user code: "+e.message)}}};var unmaskPhone=function(e,t){var a="";for(var n=t.length-1,r=e.length-1;n>=0;n--){if(t[n]=="X"||t[n]=="x"){a=e[r]+a;r--}else{a=t[n]+a}}return a};var isIe=function(){var e=window.navigator.userAgent;var t=e.indexOf("MSIE ");if(t>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){return true}return false};var updatePhoneElems=function(selectors,phone,hrefPhone,replacer){jQuery.each(selectors,function(i,selector){jQuery(selector).each(function(i,value){var v=jQuery(value);if(replacer){try{eval(replacer)}catch(e){console.log(e.message)}}else{v.html(phone);if(v.is("a")&&v.attr("href")&&v.attr("href").match("^tel:")){v.attr("href","tel:"+hrefPhone)}}})})};this.getPhone=function(){return phoneUnformatted};init()};window.Marketcall.Widgets.PhoneReplacer={init:function(e,t){window.Marketcall.Widgets.PhoneReplacer=new widget(e,t)}}})();(function(e,t){var a=function(e,a){var n=t.Helpers.makeUrl("/api/v1/widget/callback?callback=?");var r="ru";var i=e.hasOwnProperty("locale")?e.locale:r;var l=e.hasOwnProperty("countryPhoneCode")?e.countryPhoneCode:"7";var o=l==="380"?"+38 0** *** ** **":"+"+l+" *** *** ** **";var c=o.split("*").join("9");var s={en:{callback_button_text:"Call me now!",panel_header_text:"We'll call you back",panel_text:"Enter your phone number and click “_btn_text” button.",panel_text_sub:"Our manager will contact you shortly.",privacy_agreement_text:"By submitting this form you agree to the automated processing of your personal info.",ref_link:"https://www.marketcall.net",phone_button_header:"Request Callback",phone_button_text:"Our manager will call you back.",schedule_toggle_text:"Choose another time",branding_povered_by:"Powered By",branding_link_title:"Marketcall.net",messages:{wrong_number:"Invalid phone number.",service_unavailable:"Service is unavailable."},phoneMask:"",schedule:{callback_button_text:"Submit callback request!",panel_text:"Please enter your phone number, choose date and time when you'll be able to answer call, and click “_btn_text” button.",phone_button_text:"Our manager will contact you at a specified time.",panel_text_sub:"Our manager will contact you at a specified time and will answer your questions in detail.",schedule_toggle_text:"I can answer now"},day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],month_names_gen:["January","February","March","April","May","June","July","August","September","October","November","December"]},ru:{callback_button_text:"Позвоните сейчас!",panel_header_text:"Мы вам перезвоним",panel_text:"Укажите ваш номер телефона и нажмите кнопку “_btn_text”.",panel_text_sub:"Наш специалист свяжется с вами и подробно ответит на все вопросы.",privacy_agreement_text:'Нажимая на кнопку, вы принимаете <a href="https://www.marketcall.ru/legal/regulation" target="_blank">Положение</a> и <a href="https://www.marketcall.ru/legal/agreement" target="_blank">Согласие</a> на обработку персональных данных.',ref_link:"https://www.marketcall.ru",phone_button_header:"Заказать обратный звонок",phone_button_text:"Наш специалист перезвонит вам.",schedule_toggle_text:"Выбрать другое время",branding_povered_by:"Технология",branding_link_title:"Marketcall.ru",messages:{wrong_number:"Укажите правильный номер.",service_unavailable:"Сервис недоступен."},phoneMask:"",schedule:{callback_button_text:"Оставить заявку!",panel_text:"Укажите ваш номер телефона, выберите дату и время, и нажмите кнопку “_btn_text”.",phone_button_text:"Наш специалист перезвонит вам в указанное вами время.",panel_text_sub:"Наш специалист свяжется с вами в указанное время и подробно ответит на все вопросы.",schedule_toggle_text:"Могу говорить сейчас"},day_names:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],month_names_gen:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},ua:{callback_button_text:"Зателефонувати зараз!",panel_header_text:"Ми вам перетелефонуємо",panel_text:"Вкажіть ваш номер телефону та натисніть кнопку  “_btn_text”.",panel_text_sub:"Наш спеціаліст зв'яжеться с вами та детально відповість на всі запитання.",privacy_agreement_text:'Тиснучи на кнопку, ви приймаєте<a href="https://www.marketcall.com.ua/legal/regulation" target="_blank">Положення</a> и <a href="https://www.marketcall.com.ua/legal/agreement" target="_blank">Согласие</a> та З году на обробку персональних даних',ref_link:"https://www.marketcall.com.ua",phone_button_header:"Заказать обратный звонок",phone_button_text:"Наш фахівець зв'яжеться з вам.",schedule_toggle_text:"Вибрати інший час",branding_povered_by:"Технологія",branding_link_title:"Marketcall.com.ua",messages:{wrong_number:"Вкажіть правильний номер.",service_unavailable:"Сервіс недоступний."},phoneMask:"",schedule:{callback_button_text:"Залишити заявку!",panel_text:"Вкажіть ваш номер телефону, виберіть дату і час, і натисніть кнопку “_btn_text”.",phone_button_text:"Наш фахівець зв'яжеться з вам у вказаний вами час.",panel_text_sub:"Наш фахівець зв'яжеться з вами у вказаний час і докладно відповість на всі питання.",schedule_toggle_text:"Можу говорити зараз"},day_names:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],month_names_gen:["січня","лютого","березня","квітня","травня","червень","липень","серпня","вересня","жовтня","листопада","грудня"]},tr:{callback_button_text:"Şimdi arayın",panel_header_text:"Size geri arayacağız",panel_text:"Telefon numaranız girin, tarih ve saati seçin ve “_btn_text”i tıklayın.",panel_text_sub:"Uzmanımız belirli bir zamanda sizinle ulaşacak ve tüm soruları ayrıntılı olarak cevaplayacak.",privacy_agreement_text:' Bu düğmeye basarak <a href="https://www.marketcall.net/legal/regulation" target="_blank">pozisyon</a> ve <a href="https://www.marketcall.net/legal/agreement" target="_blank">anlaşma</a> .',ref_link:"https://www.marketcall.ru",phone_button_header:"Biz sizi arayalım",phone_button_text:"Uzmanımız sizi geri arayacak.",schedule_toggle_text:"Başka bir zaman seçin",branding_povered_by:"Teknoloji",branding_link_title:"Marketcall.ru",messages:{wrong_number:"Doğru numara belirtin.",service_unavailable:"Hizmet kullanılamıyor."},phoneMask:"",schedule:{callback_button_text:"Başvuru yapın",panel_text:"Telefon numaranız girin, tarih ve saati seçin ve “_btn_text”i tıklayın.",phone_button_text:"Uzmanımız belirttiğiniz sürede sizinle iletişime geçecek.",panel_text_sub:"Uzmanımız belirli bir zamanda sizinle ulaşacak ve tüm soruları ayrıntılı olarak cevaplayacak.",schedule_toggle_text:"Şimdi konuşabilirım"},day_names:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],month_names_gen:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]}};var d=s[i];var u=false;if(e.hasOwnProperty("hide_branding")&&e.hide_branding==true){u=true}else if(e.hasOwnProperty("default_id")&&e.callbacks.hasOwnProperty(e.default_id)&&e.callbacks[e.default_id]!==undefined&&e.callbacks[e.default_id].hide_branding){u=true}var p=u===false?d.branding_povered_by+' <a class="mc-panel-ref-link" href="_ref_link">'+d.branding_link_title+"</a>":"";var m='<div class="mc_schedule" style="display:none">'+'<select name="date" data-dependency="[name=\'hours\']" disabled></select><br>'+'<select name="hours" data-dependency="[name=\'minutes\']" data-step="60" data-value-func="getHours" disabled></select>'+'<select name="minutes" data-step="15" data-value-func="getMinutes" disabled></select></div>';var g='<div id="mc_panel"><div class="mc_panel_close mc_close"><a href="#">'+'<img src="https://www.marketcall.ru/img/widgets/mc_icon_close.png"></a></div><div id="mc_panel_content">'+'<div id="mc_panel_lcontent">'+'<b class="mc-panel-header-text">_panel_header_text</b><p class="mc-panel-text">_panel_text </p>'+'<p class="mc-panel-text-sub">_panel_text_sub</p></div><div id="mc_panel_rcontent">'+'<input class="mc_phone" placeholder="'+o+'" type="text"><div class="mc_message"></div>'+m+'<a class="mc_panel_button mc_callback" href="#"><img src="https://www.marketcall.ru/img/widgets/mc_icon_phone.png">'+' <span class="mc-panel-btn-text">_btn_text</span></a>'+'<a href="#" class="mc_panel_time mc_toggle_schedule">_schedule_toggle_text</a>'+"</div></div>"+'<p class="mc_privacy_agreement">_privacy_agreement_text</p>'+'<div class="mc_panel_mc">'+p+"</div></div>";var f='<div class="mc_ds"> <div id="mc_popup">'+'<div class="mc_popup_close mc_close"><a href=#><img src="https://www.marketcall.ru/img/widgets/mc_icon_close.png"></a></div>'+'<b class="mc-panel-header-text">_panel_header_text</b> <p class="mc-panel-text">_panel_text</p>'+'<input class="mc_phone" type="text" placeholder="'+o+'"><div class="mc_message"></div>'+m+'<a class="mc_popup_button mc_callback" href=#><img src="https://www.marketcall.ru/img/widgets/mc_icon_phone.png">'+' <span class="mc-panel-btn-text">_btn_text</span></a>'+'<a href="#" class="mc_popup_time mc_toggle_schedule">_schedule_toggle_text</a>'+'<p class="mc_privacy_agreement">_privacy_agreement_text</p>'+'<div class="mc_popup_mc">'+p+"</div>"+"</div> </div>";var _='<div id="mc_mobile">'+'<div class="mc_mobile_close mc_close"><a href=#><img src="https://www.marketcall.ru/img/widgets/mc_icon_close.png"></a></div>'+'<div class="mc_mobile_content"><b class="mc-panel-header-text">_panel_header_text</b><p class="mc-panel-text">_panel_text</p>'+'<input class="mc_phone" type="text" placeholder="'+o+'"><div class="mc_message"></div>'+m+'<a class="mc_mobile_button mc_callback" href=#><img src="https://www.marketcall.ru/img/widgets/mc_icon_phone.png">'+' <span class="mc-panel-btn-text">_btn_text</span></a>'+'<a href="#" class="mc_mobile_time mc_toggle_schedule">_schedule_toggle_text</a></div>'+'<p class="mc_privacy_agreement">_privacy_agreement_text</p>'+'<div class="mc_mobile_mc">'+p+"</div>"+"</div>";var h='<div id="mc_layout"><div id="mc_button"><div id="mc_container">'+'<div class="mc_icon"><img src="https://www.marketcall.ru/img/widgets/mc_icon_phone.png"></div>'+'<div class="mc_desc"><b>_phone_button_header</b>_phone_button_text</div>'+"</div> </div></div>";var v="https://www.marketcall.ru/img/mc_icon_phone.svg";var b,k,w,x,y,M,j,S,H=this,C=false;var T={};var E=function(){j=t.Helpers.getClientInfo();P();T=e.callbacks||{};if(e.program_id){T[e.program_id]=e}if(e.program_id||e.default_id){y=e.program_id||e.default_id;z(e.program_id||e.default_id)}a(".mc-callback").bind("click",function(e){e.preventDefault();H.openPanel(a(this).attr("program-id"))}).each(function(e,t){if(T[a(t).attr("program-id")]){a(t).append('<div class="mc-icon-phone"><img src="'+v+'"></div>')}});H.on("shown.mc.panel",function(){new Function(T[M]&&T[M].panel_shown_callback)()});H.on("hidden.mc.panel",function(){new Function(T[M]&&T[M].panel_hidden_callback)()});H.on("submitted.mc.form",function(){new Function(T[M]&&T[M].form_submitted_callback)()})};var D=function(e,r,l){if(C){return}r=r||{};if(typeof r==="function"){l=r}if(typeof l!="function"){l=function(){}}e=e.toString().replace(/[^\d]/g,"");if(false===/^((7|1)\d{10,11})|(380\d{9})$/.test(e)){l({error:{message:d.messages.wrong_number}});return}C=true;k.add(w).find(".mc_callback").addClass("disabled");var o=a.getJSON(n,{program_id:M||y,client_phone:e,client_info:t.Helpers.getClientInfo(),datetime:r.datetime,locale:i},function(e){C=false;k.add(w).find(".mc_callback").removeClass("disabled");l(e)});if(o.fail){o.fail(function(){C=false;k.add(w).find(".mc_callback").removeClass("disabled");l({error:{message:d.messages.service_unavailable}})})}};var z=function(e){if(T[e]===undefined||T[e].phone_button_hide==1){return}b=a(h.replace("_phone_button_header",T[e].phone_button_header||d.phone_button_header).replace("_phone_button_text",T[e].phone_button_text||d.phone_button_text)).attr("program-id",e);b.find("#mc_button").bind("click",function(e){e.preventDefault();H.openPanel(b.attr("program-id"))});var t=[];if(T[e].phone_button_color){t.push("#mc_button .mc_icon { background-color:"+T[e].phone_button_color+" !important; }")}if(T[e].phone_bg_color){t.push("#mc_container { background-color:"+T[e].phone_bg_color+" !important; }")}if(T[e].phone_border_color){t.push("#mc_button { border-color:"+T[e].phone_border_color+" !important; }")}a("body").append(a("<style/>").text(t.join(" "))).append(b)};var P=function(){I();k.add(w[0]).find(".mc_callback").bind("click",function(e){e.preventDefault();x.trigger("submitted.mc.form");O("");var a=x.find(".mc_phone");var n=a.val();a.css("border","");var r={datetime:x.find(".mc_schedule [disabled]").length>0?"":new Date(parseInt(x.find('[name="minutes"]').val())).toUTCString()};D(n,r,function(e){if(e.error){a.css("border","1px solid red");O(e.error.message);x.trigger($("error.mc.form",{phone:n}));return}if(e.success){O(e.message);t.Helpers.updateClientId(e.client_id);x.trigger($("success.mc.form",{phone:n}))}})});k.add(w[0]).find(".mc_phone").bind("keyup",function(e){}).bind("focus",function(e){a(this).data("placeholder",a(this).attr("placeholder")).attr("placeholder","")}).bind("blur",function(e){a(this).attr("placeholder",a(this).data("placeholder")).data("placeholder","")}).mask(c,{autoclear:false});k.add(w[0]).find(".mc_close").bind("click",function(e){e.preventDefault();H.closePanel()});F();a("body").append(k).append(w)};this.openPanel=function(e,t){e=e||b.attr("program-id");if(!e||!T[e]){console.log("no config for program "+e);return}M=e;if(t===undefined){t=T[e].popup?"popup":"panel"}x=t=="popup"?w:k;U(T[e]);A(T[e]||d,x);O("");x.addClass("mc_active");x.trigger("shown.mc.panel");if(N(new Date)){if(T[e].delayed_off_hours_only==1||!L()){x.find(".mc_toggle_schedule").hide();R("hide")}else{q(x.find(".mc_schedule"))}}else{x.find(".mc_toggle_schedule").hide();R(L()?"show":"hide")}};this.closePanel=function(){x.removeClass("mc_active");x.trigger("hidden.mc.panel");M=null};this.on=function(e,t){k.add(w[0]).bind(e,function(a){try{t(a)}catch(a){window.console.log("Error when running "+e+" callback. Check your code.");window.console.log("Error "+a.name+":"+a.message+"\n"+a.stack)}})};this.call=function(){if(arguments.length<1){console.error("Not enough arguments");return}var e=arguments[0];var t=typeof arguments[1]==="object"?arguments[1]:{};if(t.program_id){M=t.program_id}var a=typeof arguments[1]==="function"?arguments[1]:arguments[2];D(e,t,a);M=null};this.getPhone=function(e){if(e===undefined){e=y}return T[e]&&T[e].phone};var O=function(e){x.find(".mc_message").text(e)};var U=function(e){if(!S){S=a("<style/>");a("body").append(S)}var t=[];if(e.callback_button_text_color){t.push(".mc_callback { color:"+e.callback_button_text_color+" !important; }")}if(e.callback_button_color){t.push(".mc_callback { background-color:"+e.callback_button_color+" !important; }")}if(e.callback_button_color_hover){t.push(".mc_callback:hover { background-color:"+e.callback_button_color_hover+" !important; }")}S.text(t.join(" "))};var A=function(e,t){t.find(".mc-panel-header-text").text(e.panel_header_text||d.panel_header_text);t.find(".mc-panel-text").text((e.panel_text||d.panel_text).replace(/_btn_text/g,e.callback_button_text||d.callback_button_text));t.find(".mc-panel-text-sub").text(e.panel_text_sub||d.panel_text_sub);t.find(".mc-panel-btn-text").text(e.callback_button_text||d.callback_button_text);t.find(".mc-panel-ref-link").attr("href",e.ref_link||d.ref_link);t.find(".mc_toggle_schedule").text(e.schedule_toggle_text||d.schedule_toggle_text)};var Q=function(e){var t=e.replace(/[^\d+]+/g,"");if(t.length<3){t="+"+l}if(t.length<12){t=t+"_".repeat(12-t.length)}return t.match(/(\+?(7|1)?)([\d_]{1,3})?([\d_]{1,3})?([\d_]{1,2})?([\d_]{1,2})?/).slice(1).filter(function(e){return e!==undefined}).join(" ")};function I(){k=a((t.Helpers.isMobile()?_:g).replace("_panel_header_text",d.panel_header_text).replace("_panel_text",d.panel_text).replace("_panel_text_sub",d.panel_text_sub).replace(/_btn_text/g,d.callback_button_text).replace("_ref_link",d.ref_link).replace("_privacy_agreement_text",d.privacy_agreement_text));w=t.Helpers.isMobile()?k:a(f.replace("_panel_header_text",d.panel_header_text).replace("_panel_text",d.panel_text).replace("_panel_text_sub",d.panel_text_sub).replace(/_btn_text/g,d.callback_button_text).replace("_ref_link",d.ref_link).replace("_privacy_agreement_text",d.privacy_agreement_text))}var W=function(){if(typeof T[M].workingHours==="object"){return T[M].workingHours}if(typeof T[M].working_hours!=="object"||T[M].working_hours.length==0){return{}}T[M].hasSchedule=true;var e={};var t=new Date;var n=(t.getTimezoneOffset()+T[M].timezone_offset)*60*1e3;var r=new Date(t.getTime()+n);var i=function(e){return e.getMonth().toString()+"-"+e.getDate()};var l=function(t,a){if(e[i(t)]===undefined){e[i(t)]=[]}e[i(t)].push([t.getTime(),a.getTime()])};a.each(T[M].working_hours,function(e,t){for(var a=0;a<7;a++){var i=new Date(r.getTime());i.setDate(r.getDate()+a);if((t.days&Math.pow(2,(i.getDay()||7)-1))!==0){var o=new Date(i.getTime());i.setHours.apply(i,t.time_range[0].split(":"));o.setHours.apply(o,t.time_range[1].split(":"));i.setTime(i.getTime()-n);o.setTime(o.getTime()-n);if(o.getDate()!=i.getDate()){l(i,new Date(i.getFullYear(),i.getMonth(),i.getDate(),23,59,59));i=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0)}l(i,o)}}});return T[M].workingHours=e};var N=function(e){var t=W();var a=e.getMonth().toString()+"-"+e.getDate();if(!t[a]||t[a].length===0){return false}for(var n=0;n<t[a].length;n++){if(t[a][n][0]<=e.getTime()&&t[a][n][1]>=e.getTime()){return true}}return false};var F=function(){var e=function(t,n,r){if(typeof t[0]==="object"){return a.map(t,function(t){return e(t,n,r)})}var i=a([]);var l=(new Date).getTime();var o=new Date(t[0]);while(o.getTime()<t[1]){var c=[o.getTime()];var s=o[r]();o.setMinutes(n==60?n:o.getMinutes()+n);if(c[0]>l){i=i.add(a("<option>").val(c[0]).data("range",c).text(s<10?"0"+s:s));c.push(o.getTime()<t[1]?o.getTime():t[1])}}return i};k.add(w).find(".mc_toggle_schedule").bind("click",function(e){e.preventDefault();R()});k.add(w).find("select").bind("change",function(){var t=a(this);var n=x.find(t.data("dependency"));if(n.length===0){return}var r=t.find(":selected");n.html(e(r.data("range"),n.data("step"),n.data("value-func"))).trigger("change")})};var R=function(e){var t=x.find(".mc_schedule");t.toggle(typeof e==="string"?e==="show":undefined);if(t.is(":visible")){A(T[M]&&T[M].schedule||d.schedule,x);q(t);t.find("select").removeAttr("disabled")}else{A(T[M]||d.schedule,x);t.find("select").attr("disabled","disabled")}};var q=function(e){e.find('select[name="date"]').html(B()).trigger("change")};var B=function(){var e=function(e){return e.getDate().toString()+" "+d.month_names_gen[e.getMonth()]+" ("+d.day_names[e.getDay()]+")"};var t=new Date;t.setMinutes(t.getMinutes()+30);t=t.getTime();return a.map(W(),function(n){if(n.length===0){return false}if(t>=n[n.length-1][1]){return false}return a("<option>").data("range",n).text(e(new Date(n[0][0])))})};var L=function(){return T[M].hasSchedule};var $=function(e,a){if(t.Helpers.jQuery.Event){return t.Helpers.jQuery.Event(e,a)}return e};E()};t.Widgets.Callback={init:function(e,r){t.Helpers.loadFile("css",t.Helpers.makeUrl("/css/widgets/callback.css"),function(){n(r);t.Widgets.Callback=new a(e,r);document.dispatchEvent(new Event("callback_loaded.mc.widget"));t.Helpers.jQuery(document).trigger("callback_loaded.mc.widget")});t.Helpers.loadFile("css","https://fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin,cyrillic,cyrillic-ext")}};function n(e){var t,a=navigator.userAgent,n=/iphone/i.test(a),r=/chrome/i.test(a),i=/android/i.test(a);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(a=this.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(a,l){var o,c,s,d,u,p,m,g;if(!a&&this.length>0){o=e(this[0]);var f=o.data(e.mask.dataName);return f?f():void 0}return l=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},l),c=e.mask.definitions,s=[],d=m=a.length,u=null,e.each(a.split(""),function(e,t){"?"==t?(m--,d=e):c[t]?(s.push(new RegExp(c[t])),null===u&&(u=s.length-1),d>e&&(p=s.length-1)):s.push(null)}),this.trigger("unmask").each(function(){function o(){if(l.completed){for(var e=u;p>=e;e++)if(s[e]&&C[e]===f(e))return;l.completed.call(H)}}function f(e){return l.placeholder.charAt(e<l.placeholder.length?e:0)}function _(e){for(;++e<m&&!s[e];);return e}function h(e){for(;--e>=0&&!s[e];);return e}function v(e,t){var a,n;if(!(0>e)){for(a=e,n=_(t);m>a;a++)if(s[a]){if(!(m>n&&s[a].test(C[n])))break;C[a]=C[n],C[n]=f(n),n=_(n)}j(),H.caret(Math.max(u,e))}}function b(e){var t,a,n,r;for(t=e,a=f(e);m>t;t++)if(s[t]){if(n=_(t),r=C[t],C[t]=a,!(m>n&&s[n].test(r)))break;a=r}}function k(){var t=H.val(),a=H.caret();var n=function(){e.proxy(e.fn.caret,H,a.begin,a.begin)()};if(g&&g.length&&g.length>t.length){for(S(!0);a.begin>0&&!s[a.begin-1];)a.begin--;if(0===a.begin)for(;a.begin<u&&!s[a.begin];)a.begin++;setTimeout(n,0)}else{var r=S(true);var i=t.charAt(a.begin);if(a.begin<m){if(!s[a.begin]){a.begin=r}else{if(s[a.begin].test(i)){a.begin++}}}setTimeout(n,0)}o()}function w(){S(),H.val()!=E&&H.change()}function x(e){if(!H.attr("readonly")){var t,a,r,i=e.which||e.keyCode;g=H.val(),8===i||46===i||n&&127===i?(t=H.caret(),a=t.begin,r=t.end,r-a===0&&(a=46!==i?h(a):r=_(a-1),r=46===i?_(r):r),M(a,r),v(a,r-1),e.preventDefault()):13===i?w.call(this,e):27===i&&(H.val(E),H.caret(0,S()),e.preventDefault())}}function y(t){if(!H.attr("readonly")){var a,n,r,l=t.which||t.keyCode,c=H.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>l)&&l&&13!==l){if(c.end-c.begin!==0&&(M(c.begin,c.end),v(c.begin,c.end-1)),a=_(c.begin-1),m>a&&(n=String.fromCharCode(l),s[a].test(n))){if(b(a),C[a]=n,j(),r=_(a),i){var d=function(){e.proxy(e.fn.caret,H,r)()};setTimeout(d,0)}else H.caret(r);c.begin<=p&&o()}t.preventDefault()}}}function M(e,t){var a;for(a=e;t>a&&m>a;a++)s[a]&&(C[a]=f(a))}function j(){
H.val(C.join(""))}function S(e){var t,a,n,r=H.val(),i=-1;for(t=0,n=0;m>t;t++)if(s[t]){for(C[t]=f(t);n++<r.length;)if(a=r.charAt(n-1),s[t].test(a)){C[t]=a,i=t;break}if(n>r.length){M(t+1,m);break}}else C[t]===r.charAt(n)&&n++,d>t&&(i=t);return e?j():d>i+1?l.autoclear||C.join("")===T?(H.val()&&H.val(""),M(0,m)):j():(j(),H.val(H.val().substring(0,i+1))),d?t:u}var H=e(this),C=e.map(a.split(""),function(e,t){return"?"!=e?c[e]?f(t):e:void 0}),T=C.join(""),E=H.val();H.data(e.mask.dataName,function(){return e.map(C,function(e,t){return s[t]&&e!=f(t)?e:null}).join("")}),H.one("unmask",function(){H.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){if(!H.attr("readonly")){clearTimeout(t);var e;E=H.val(),e=S(),t=setTimeout(function(){H.get(0)===document.activeElement&&(j(),e==a.replace("?","").length?H.caret(0,e):H.caret(e))},10)}}).bind("blur.mask",w).bind("keydown.mask",x).bind("keypress.mask",y).bind("input.mask paste.mask",function(){H.attr("readonly")||setTimeout(function(){var e=S(!0);H.caret(e),o()},0)}),r&&i&&H.unbind("input.mask").bind("input.mask",k),S()})}})}})(window,window.Marketcall||(window.Marketcall={Widgets:{}}));(function(){const widget=function(params,jQuery){console.log(params);const init=function(){jQuery=Marketcall.Helpers.jQuery;console.log("Lead mapper init");Marketcall.Tracker.trackEvent(params.program_id,"lead_mapper","view");console.log("Calling integration code...");try{eval(params.code)}catch(e){console.log("Error when running code: "+e.message)}};const sendLead=function(e,t,a){const n={channel_key:"uIGn0zqpUCyrzq6uDfsd1Mqj8P1hiKIP",program:a||params.program_id,template:t||params.template,body:e.body,cost:e.cost,subid:e.subid,subid1:e.subid1,subid2:e.subid2,subid3:e.subid3,subid4:e.subid4,affiliate_own_id:e.affiliate_own_id,merchant_own_id:e.merchant_own_id,session_uuid:Marketcall.Helpers.getClientInfo().visitor_id,widget:{type:"lead_mapper",source:Marketcall.Helpers.source()}};if(n.template&&/^\d+$/.test(n.template)===false){n.action=n.template}console.log(n);jQuery.ajax({type:"POST",jsonp:"callback",dataType:"jsonp",url:Marketcall.Helpers.makeUrl("/api/v1/widget/leads"),data:n,error:function(e,t,a){console.log(e.responseText)},success:function(e,t,a){console.log(e);switch(parseInt(e.status)){case 201:console.log("Success lead sent.",e.id);Marketcall.Helpers.jQuery(document).trigger("success.lead-mapper.mc",{id:e.id});break;case 422:console.log("Validation error.",e.errors);Marketcall.Helpers.jQuery(document).trigger("error.lead-mapper.mc",{code:422,errors:e.errors});break;case 500:console.log("Fatal error.",e.errors);Marketcall.Helpers.jQuery(document).trigger("error.lead-mapper.mc",{code:500,errors:e.errors});break;default:console.log("Unknown response code.",e)}}})};init();return{sendLead:sendLead}};window.Marketcall.Widgets.LeadMapper={init:function(e,t){window.Marketcall.Widgets.LeadMapper=new widget(e,t);document.dispatchEvent(new Event("lead_mapper_loaded.mc.widget"));console.log("Lead mapper loaded")}}})();(function(){var e=function(e,t){t.fn.serializeObject=function(){var e={};t.each(this.serializeArray(),function(a,n){var r=n.name,i=n.value;e[r]=e[r]===undefined?i:t.isArray(e[r])?e[r].concat(i):[e[r],i]});return e};var a=function(e){var t=document.createElement("form");var e=JSON.parse(e);console.log(e.properties);e.schema.properties.forEach(function(e){var a=document.createElement("div");a.className+="form-group";var n=document.createElement("label");n.setAttribute("for",e.title);n.innerText=e.label;var r=document.createElement("input");r.setAttribute("type","text");r.setAttribute("name",e.title);r.id=e.title;r.className+="form-control";var i=document.createElement("span");i.className="help-block";a.appendChild(n);a.appendChild(r);a.appendChild(i);t.appendChild(a)});var a=document.createElement("div");a.id="mcSuccessBlock";a.className="alert alert-success text-center hidden";t.appendChild(a);var n=document.createElement("input");n.setAttribute("type","submit");n.setAttribute("value","Submit");n.className+="btn btn-default";t.appendChild(n);return t};var n=function(){var n=a(e.schema);t(n).find("input").on("input",function(e){t(e.target).parent(".form-group").removeClass("has-error").find("span.help-block").text("")});t(n).on("submit",function(a){a.preventDefault();var n=t(this);n.find('input[type="submit"]').attr("disabled","disabled");n.find(".form-group").removeClass("has-error");n.find(".help-block").text("");var r={channel_key:"uIGn0zqpUCyrzq6uDfsd1Mqj8P1hiKIP",program:e.program_id,template:e.template,body:t(this).serializeObject(),widget:{type:"lead_form",source:Marketcall.Helpers.source()}};t.ajax({type:"POST",jsonp:"callback",dataType:"jsonp",url:Marketcall.Helpers.makeUrl("/api/v1/widget/leads"),data:r,error:function(e,t,a){console.log(e.responseText)},success:function(e,a,r){console.log(e);if(e.status==422){t.each(e.errors,function(e,t){console.log(e,t);n.find('input[name="'+e+'"]').parent(".form-group").addClass("has-error");n.find('input[name="'+e+'"]').siblings("span.help-block").text(t)})}else if(e.status==500){alert("Server error occured.");console.log("Fatal error");console.log(e.errors)}else if(e.status==201){console.log("success lead sent");n.find(".form-group").removeClass("has-error");n.find("#mcSuccessBlock").text(e.message);n.find('input[type="submit"]').remove();n.find("input").attr("disabled",true);n.find("#mcSuccessBlock").removeClass("hidden")}n.find('input[type="submit"]').attr("disabled",false)}})});var r=document.getElementById("mcLeadForm");if(r){r.appendChild(n);console.log("Lead form loaded")}else{console.log("No container to attach lead form found.")}};n()};window.Marketcall.Widgets.LeadForm={init:function(t,a){Marketcall.Helpers.loadFile("css",Marketcall.Helpers.makeUrl("/css/widgets/form.css"));window.Marketcall.Widgets.LeadForm=new e(t,a);document.dispatchEvent(new Event("lead_form_loaded.mc.widget"))}}})();(function(){const e=function(e,t){const a=function(){if(!e.set_id){return}t.ajax({type:"GET",jsonp:"callback",dataType:"jsonp",url:Marketcall.Helpers.makeUrl("/api/v1/widget/legal/data"),data:{set_id:e.set_id,domain:window.location.hostname},error:function(e,t,a){console.error(e.responseText)},success:function(e,t,a){var n=$("#underForm");var r=$("#legal");var i='<div id="widget-modal" class="widget-modal"><div class="widget-modal-content"><div><span id="widget-modal-header"></span><span class="widget-modal-close">&times;</span></div><div id="widget-modal-content"></div></div></div>';n.html(e.disclaimerUnderForm);var l=e.disclaimerDocs;var o=e.disclaimerDocs.reduce(function(e,t){return e+" "+'<a class="widget-modal-open-link" href="#" data-id="'+t.id+'" data-header="'+t.name+'">'+t.name+"</a>"},"");var c="<p>"+o+"</p>"+e.disclaimer+i;r.html(c);var s=$("#widget-modal");var d=$("#widget-modal-content");var u=$(".widget-modal-open-link");var p=$(".widget-modal-close");u.on("click",function(e){e.preventDefault();var t=$(this).data("id");d.html(l.find(function(e){return e.id===t}).text);s.css("display","block")});p.on("click",function(){s.css("display","none");d.html("")});$(window).on("click",function(e){if($(e.target).is("#widget-modal")&&!$(e.target).is(".widget-modal-open-link")){s.css("display","none");d.html("")}})}})};a()};window.Marketcall.Widgets.Legal={init:function(t,a){Marketcall.Helpers.loadFile("css",Marketcall.Helpers.makeUrl("/css/widgets/legal.css"));window.Marketcall.Widgets.Legal=new e(t,a);document.dispatchEvent(new Event("legal_loaded.mc.widget"))}}})();(function(){var e;if(window.jQuery===undefined||window.jQuery.fn.jquery==="1.4.4"){var t=document.createElement("script");t.setAttribute("type","text/javascript");t.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js");if(t.readyState){t.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){a()}}}else{t.onload=a}(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(t)}else{e=window.jQuery;r()}function a(){e=window.jQuery.noConflict(true);r()}function n(e){var t=document.getElementsByTagName("script");for(var a=0;a<t.length;a++){if(t[a].src.indexOf("/"+e)>-1){var n=t[a].src.split("?").pop().split("&");var r={};for(var i=0;i<n.length;i++){var l=n[i].split("=");r[l[0]]=l[1]}return r}}return{}}function r(){Marketcall.Helpers.jQuery=e;var t=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);if(t==null){return null}else{return t[1]||0}};var a=Marketcall.Helpers.makeUrl("/api/v1/widget/data?callback=?");var r;var l=t("mc_tld")==="1";if(r=t("program_id")){Marketcall.Helpers.setCookie("_mc_program",r,{path:"/",domain:Marketcall.Helpers.getCookieDomain(document.domain,l),expires:new Date((new Date).getTime()+20*24*60*60*1e3)})}if(Marketcall.Helpers.getCookie("_mc_program")){r=Marketcall.Helpers.getCookie("_mc_program")}console.log(n("marketcall.js"));var o=Marketcall.Helpers.makeUrl("/api/v1/widget/preload-trackers?callback=?");e.getJSON(o,{offer:n("marketcall.js").id},function(e){if(e.trackers){Marketcall.Helpers.injectTrackers(e.trackers)}});e.getJSON(a,{offer:n("marketcall.js").id,program:r,client_info:Marketcall.Helpers.getClientInfo(),stat_params:Marketcall.Helpers.getStatParams()},function(t){Marketcall.Helpers.currentScript="marketcall.js";if(t.widgets){window.Marketcall.Program.state=1;e.each(t.widgets,function(e,t){i(t.name,t.config)});if(t.trackers){Marketcall.Helpers.injectTrackers(t.trackers)}}})}function i(t,a){if(Marketcall.Widgets[t]===undefined){console.error("Unknown widget "+t);return}try{Marketcall.Widgets[t].init(a,e)}catch(e){console.error("Error "+t+" widget initialisation");console.log(e)}}})();
